function cbn(frame) {
document.getElementById("cbn_step").innerHTML = frame;
document.getElementById("cbn_graph").innerHTML = '<img src=\'output/lazy-state/file' + frame.toString() + '.png\'>';
if(frame == 0) {
document.getElementById("cbn_heap").innerHTML = "<span style=\"color: darkblue;\">bind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">x</span>&nbsp;<span style=\"font-style: italic;\">f</span>&nbsp;<span style=\"font-style: italic;\">s</span>&nbsp;-&gt;&nbsp;<span style=\"font-weight: bold;\">let</span>&nbsp;<span style=\"font-style: italic;\">a_s&#39;</span>&nbsp;=&nbsp;<span style=\"font-style: italic;\">x</span>&nbsp;<span style=\"font-style: italic;\">s</span>&nbsp;<span style=\"font-weight: bold;\">in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-style: italic;\">f</span>&nbsp;(<span style=\"color: darkblue;\">fst</span>&nbsp;<span style=\"font-style: italic;\">a_s&#39;</span>)&nbsp;(<span style=\"color: darkblue;\">snd</span>&nbsp;<span style=\"font-style: italic;\">a_s&#39;</span>)<br><span style=\"color: darkblue;\">evalState</span>&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">k</span>&nbsp;<span style=\"font-style: italic;\">s</span>&nbsp;-&gt;&nbsp;<span style=\"color: darkblue;\">fst</span>&nbsp;(<span style=\"font-style: italic;\">k</span>&nbsp;<span style=\"font-style: italic;\">s</span>)<br><span style=\"color: darkblue;\">foo1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">n</span>&nbsp;-&gt;&nbsp;<span style=\"color: darkblue;\">bind</span>&nbsp;<span style=\"font-style: italic;\">get</span>&nbsp;(\\<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: darkblue;\">bind</span>&nbsp;(<span style=\"font-weight: bold;\">if</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;==&nbsp;0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">then</span>&nbsp;<span style=\"font-weight: bold;\">let</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>&nbsp;=&nbsp;<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;+&nbsp;1&nbsp;<span style=\"font-weight: bold;\">in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">seq</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>&nbsp;(<span style=\"color: darkblue;\">put</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">else</span>&nbsp;<span style=\"color: darkblue;\">ret</span>&nbsp;())&nbsp;(\\<span style=\"font-style: italic;\">unused</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-style: italic;\">ret</span>&nbsp;<span style=\"font-style: italic;\">n</span>))<br><span style=\"color: darkblue;\">foo2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">n</span>&nbsp;-&gt;&nbsp;<span style=\"color: darkblue;\">bind</span>&nbsp;<span style=\"font-style: italic;\">get</span>&nbsp;(\\<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">if</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;==&nbsp;0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">then</span>&nbsp;<span style=\"font-weight: bold;\">let</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>&nbsp;=&nbsp;<span style=\"font-style: italic;\">sumSoFar</span>&nbsp;+&nbsp;1&nbsp;<span style=\"font-weight: bold;\">in</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">seq</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>&nbsp;(<span style=\"color: darkblue;\">bind</span>&nbsp;(<span style=\"color: darkblue;\">put</span>&nbsp;<span style=\"font-style: italic;\">sumSoFar&#39;</span>)&nbsp;(\\<span style=\"font-style: italic;\">unused</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: darkblue;\">ret</span>&nbsp;<span style=\"font-style: italic;\">n</span>))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-weight: bold;\">else</span>&nbsp;<span style=\"color: darkblue;\">ret</span>&nbsp;<span style=\"font-style: italic;\">n</span>)<br><span style=\"color: darkblue;\">fst</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">pair</span>&nbsp;-&gt;&nbsp;<span style=\"font-weight: bold;\">case</span>&nbsp;<span style=\"font-style: italic;\">pair</span>&nbsp;<span style=\"font-weight: bold;\">of</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style=\"font-style: italic;\">x</span>,<span style=\"font-style: italic;\">y</span>)&nbsp;-&gt;&nbsp;<span style=\"font-style: italic;\">x</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><span style=\"color: darkblue;\">get</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">s</span>&nbsp;-&gt;&nbsp;(<span style=\"font-style: italic;\">s</span>,&nbsp;<span style=\"font-style: italic;\">s</span>)<br><span style=\"color: darkblue;\">mapM</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">f</span>&nbsp;<span style=\"font-style: italic;\">as</span>&nbsp;-&gt;&nbsp;<span style=\"font-weight: bold;\">case</span>&nbsp;<span style=\"font-style: italic;\">as</span>&nbsp;<span style=\"font-weight: bold;\">of</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[]&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;<span style=\"color: darkblue;\">ret</span>&nbsp;[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"font-style: italic;\">a</span>:<span style=\"font-style: italic;\">as&#39;</span>&nbsp;-&gt;&nbsp;<span style=\"color: darkblue;\">bind</span>&nbsp;(<span style=\"font-style: italic;\">f</span>&nbsp;<span style=\"font-style: italic;\">a</span>)&nbsp;(\\<span style=\"font-style: italic;\">b</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: darkblue;\">bind</span>&nbsp;(<span style=\"color: darkblue;\">mapM</span>&nbsp;<span style=\"font-style: italic;\">f</span>&nbsp;<span style=\"font-style: italic;\">as&#39;</span>)&nbsp;(\\<span style=\"font-style: italic;\">bs</span>&nbsp;-&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: darkblue;\">ret</span>&nbsp;(<span style=\"font-style: italic;\">b</span>&nbsp;:&nbsp;<span style=\"font-style: italic;\">bs</span>)))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br><span style=\"color: darkblue;\">put</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">new</span>&nbsp;<span style=\"font-style: italic;\">old</span>&nbsp;-&gt;&nbsp;((),&nbsp;<span style=\"font-style: italic;\">new</span>)<br><span style=\"color: darkblue;\">ret</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">a</span>&nbsp;<span style=\"font-style: italic;\">s</span>&nbsp;-&gt;&nbsp;(<span style=\"font-style: italic;\">a</span>,&nbsp;<span style=\"font-style: italic;\">s</span>)<br><span style=\"color: darkblue;\">snd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;\\<span style=\"font-style: italic;\">pair</span>&nbsp;-&gt;&nbsp;<span style=\"font-weight: bold;\">case</span>&nbsp;<span style=\"font-style: italic;\">pair</span>&nbsp;<span style=\"font-weight: bold;\">of</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span style=\"font-style: italic;\">x</span>,<span style=\"font-style: italic;\">y</span>)&nbsp;-&gt;&nbsp;<span style=\"font-style: italic;\">y</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}";
document.getElementById("cbn_term").innerHTML = "1";
document.getElementById("cbn_status").innerHTML = "whnf";
}
}
var cbn_frame = 0;
function cbnNext() {
cbn(++cbn_frame);
}
function cbnPrev() {
cbn(--cbn_frame);
}
cbn(cbn_frame);
